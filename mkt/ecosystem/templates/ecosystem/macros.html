{% macro navigation(section) -%}
  <section id="document-navigation">
    <ul>
      <li>
        {% if category == 'build' %}
          <h2>{{ _('Getting Started') }}</h2>
          <ol>
            <li>
              <a href="{{ url('ecosystem.documentation', page='html5') }}"
                {% if section == 'html5' %}class="selected"{% endif %}
                title="{{ _('Web app Foundations') }}">
                {{ _('Web app Foundations') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation', page='manifests') }}"
                 {% if section == 'manifests' %}class="selected"{% endif %}
                 title="{{ _('Manifests') }}">
                {{ _('Manifests') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation', page='manifest_faq') }}"
                 {% if section == 'manifest_faq' %}class="selected"{% endif %}
                 title="{{ _('Manifest FAQ') }}">
                {{ _('Manifest FAQ') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation',
                 page='firefox_os') }}"
                 {% if section == 'firefox_os' %}class="selected"{% endif %}
                 title="{{ _('Firefox OS') }}">
                {{ _('Firefox OS') }}
              </a>
            </li>
          </ol>
          <h2>{{ _('Sample Apps') }}</h2>
          <ol>
            <li>
              <a href="{{ url('ecosystem.apps_documentation',
                 page='chrono') }}"
                 {% if section == 'chrono' %}class="selected"{% endif %}
                 title="{{ _('Chrono') }}">
                {{ _('Chrono') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.apps_documentation',
                 page='face_value') }}"
                 {% if section == 'face_value' %}class="selected"{% endif %}
                 title="{{ _('Face Value') }}">
                {{ _('Face Value') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.apps_documentation',
                 page='roller') }}"
                 {% if section == 'roller' %}class="selected"{% endif %}
                 title="{{ _('Roller') }}">
                {{ _('Roller') }}
              </a>
            </li>
          </ol>
          <h2>{{ _('Tools &amp; Downloads') }}</h2>
          <ol>
            <li>
              <a href="{{ url('ecosystem.documentation', page='devtools') }}"
                 {% if section == 'devtools' %}class="selected"{% endif %}
                 title="{{ _('Dev Tools') }}">
                {{ _('Dev Tools') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation', page='templates') }}"
                 {% if section == 'templates' %}class="selected"{% endif %}
                 title="{{ _('App Templates') }}">
                {{ _('App Templates') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.support') }}"
                 {% if section == 'support' %}class="selected"{% endif %}
                 title="{{ _('Support') }}">
                {{ _('Support') }}
              </a>
            </li>
          </ol>
        {% elif category == 'design' %}
          <h2>{{ _('Design') }}</h2>
          <ol>
            <li>
              <a href="{{ url('ecosystem.documentation',
                 page='purpose') }}"
                 {% if section == 'purpose' %}class="selected"{% endif %}
                 title="{{ _("Your App's Elevator Pitch") }}">
                {{ _("Your App's Elevator Pitch") }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation',
                 page='principles') }}"
                 {% if section == 'principles' %}class="selected"{% endif %}
                 title="{{ _('Design Principles') }}">
                {{ _('Design Principles') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation',
                 page='patterns') }}"
                 {% if section == 'patterns' %}class="selected"{% endif %}
                 title="{{ _('Design Patterns') }}">
                {{ _('Design Patterns') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation',
                 page='custom_elements') }}"
                 {% if section == 'custom_elements' %}
                   class="selected"{% endif %}
                 title="{{ _('Custom Elements') }}">
                {{ _('Custom Elements') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation',
                 page='references') }}"
                 {% if section == 'references' %}class="selected"{% endif %}
                 title="{{ _('References') }}">
                {{ _('References') }}</a>
            </li>
          </ol>
        {% else %}
          <h2>{{ _('Publish') }}</h2>
          <ol>
            <li>
              <a href="{{ url('ecosystem.documentation',
                 page='mkt_hosting') }}"
                 {% if section == 'mkt_hosting' %}class="selected"{% endif %}
                 title="{{ _('Hosting') }}">
                {{ _('Hosting') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation',
                 page='packaged_apps') }}"
                 {% if section == 'packaged_apps' %}class="selected"{% endif %}
                 title="{{ _('Packaged Apps') }}">
                {{ _('Packaged Apps') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.documentation',
                 page='mkt_submission') }}"
                 {% if section == 'mkt_submission' %}
                   class="selected"{% endif %}
                 title="{{ _('Marketplace Submission') }}">
                {{ _('Marketplace Submission') }}
              </a>
            </li>
            <li>
              <a href="{{ url('ecosystem.installation') }}"
                 {% if section == 'installation' %}
                   class="selected"{% endif %}
                 title="{{ _('Test Installation on Desktop') }}">
                {{ _('Test Installation on Desktop') }}
              </a>
            </li>
            <li>
              <a href="{{ url('submit.app') }}"
                 title="{{ _('Submit an App') }}"
                 rel="external">
                {{ _('Submit an App') -}}
              </a>
            </li>
          </ol>
        {% endif %}
      </li>
    </ul>
  </section>
{% endmacro -%}

{% macro video_display(video_name, video_path) -%}
  <div class="{{ video_name }}-content video-item" id="{{ video_name }}">
    <div class="video-control">
      <video width="509" height="278"
        poster="{{ media('img/ecosystem/poster-%s.jpg' % video_name) }}"
        controls="controls">
        <source src="//videos-cdn.mozilla.net/serv/Marketplace-videos/{{ video_path }}.webm" type="video/webm">
        <source src="//videos-cdn.mozilla.net/serv/Marketplace-videos/{{ video_path }}.mp4" type="video/mp4">
        {# TODO: Get a version of playerWithControls.swf on the video CDN for addons #}
        <!--
        <object type="application/x-shockwave-flash"
                style="width: 528px; height: 317px;"
                data="//videos-cdn.mozilla.net/addons/playerWithControls.swf?flv=serv/drafts/{{ video_name }}.mp4&amp;autoplay=false&amp;msg=Play%20Video">
          <param name="movie" value="//videos-cdn.mozilla.net/addons/playerWithControls.swf?flv=serv/drafts/{{ video_name }}.mp4&amp;autoplay=false&amp;msg=Play%20Video">
          <param name="wmode" value="transparent">
          <div class="video-player-no-flash">
            This video requires a browser with support for open video or the
            <a href="http://www.adobe.com/go/getflashplayer">
              Adobe Flash Player
            </a>.
          </div>
        </object>
        -->
      </video>
    </div>
    {# TODO: Get updated subtitle IDs for the new videos when available #}
    <!--
    <div class="subtitles">
      <a href="http://www.universalsubtitles.org/videos/{{ translation_id }}/info/">
        {{ _('View with subtitles') }}
      </a>
    </div>
    -->
  </div>
{% endmacro -%}

{% macro third_party_lib(name) -%}
  <h3>
    <a href="{{ third_party_libs[name].link }}" rel="external"
       target="_blank">{{ third_party_libs[name].title }}</a>
  </h3>
{% endmacro -%}

{% macro web_api(name) -%}
  <h3>
    <a href="{{ web_api_libs[name].link }}">
      {{ web_api_libs[name].title }}</a>
  </h3>
{% endmacro -%}

{% macro custom_elements(name) -%}
  <h3>
    <a href="{{ custom_elements_libs[name].link }}">
      {{ custom_elements_libs[name].title }}</a>
  </h3>
{% endmacro -%}
